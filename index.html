<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Ipl | </title>
    <link rel="shortcut icon" href="/images/favicon.ico">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css styles/main.css -->
<script
  src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
  crossorigin="anonymous"></script>
    <!-- endbuild -->

    <!-- build:js({source, dist}) js/vendor.js -->

    


    <!-- endbuild -->
</head>
<<style type="text/css" media="screen">
    #cb-main-menu,#chat-container,.cb-footer,.cb-col.cb-col-33.cb-col-rt,.cb-nav-bar,nav,#leaderboard{
        display: none!important;
    }    
    .cb-col-67{
        width: 100%!important
    }
h1 {
    
    text-align: center;
}
</style>
<body class="home" ">
    <h1>Current IPL match</h1>

      
    <div id="scoreUpdate">
        
    </div> 

    <div id="commentry">
        

    </div>


<main>
	
</main>

<script type="text/javascript">

var z;
test();

function test(){

//     $.ajax("http://synd.cricbuzz.com/j2me/1.0/livematches.xml?test="+new Date().getMilliseconds()
// ).done(function(data){
//     var jsonText = JSON.stringify(xmlToJson(data));
//     //console.log(JSON.parse(jsonText).mchdata.match);
//     window.z = JSON.parse(jsonText);
//             $("#scoreUpdate").html("");
//     $.each([z.mchdata.match[0]],function(v,i){
//         $("#scoreUpdate").append("<li>"+this["@attributes"].mchDesc + " overs:" + this.mscr.btTm.Inngs["@attributes"].ovrs +" Runs: "+ this.mscr.btTm.Inngs["@attributes"].r  +"/" + this.mscr.btTm.Inngs["@attributes"].wkts+"</li>")
// });

// });


$.ajax("http://www.cricbuzz.com/live-cricket-scorecard/18155/gl-vs-mi-35th-match-indian-premier-league-2017").done(function(data){

        // if(data.comm_lines[0].comm!==undefined && z!==data.comm_lines[0].comm){
        //         z = data.comm_lines[0].comm;
        //        $("#commentry").append("<li>"+data.comm_lines[0].comm+"</li>") 
        // }

        // $("#scoreUpdate").html("<li>"+data.score.batting.innings[0].score+ "/"+data.score.batting.innings[0].wkts+"</li>") 
        $("#scoreUpdate").html(data);

});

}
    
setInterval(test,15000);
function xmlToJson(xml) {

    // Create the return object
    var obj = {};

    if (xml.nodeType == 1) { // element
        // do attributes
        if (xml.attributes.length > 0) {
        obj["@attributes"] = {};
            for (var j = 0; j < xml.attributes.length; j++) {
                var attribute = xml.attributes.item(j);
                obj["@attributes"][attribute.nodeName] = attribute.nodeValue;
            }
        }
    } else if (xml.nodeType == 3) { // text
        obj = xml.nodeValue;
    }

    // do children
    if (xml.hasChildNodes()) {
        for(var i = 0; i < xml.childNodes.length; i++) {
            var item = xml.childNodes.item(i);
            var nodeName = item.nodeName;
            if (typeof(obj[nodeName]) == "undefined") {
                obj[nodeName] = xmlToJson(item);
            } else {
                if (typeof(obj[nodeName].push) == "undefined") {
                    var old = obj[nodeName];
                    obj[nodeName] = [];
                    obj[nodeName].push(old);
                }
                obj[nodeName].push(xmlToJson(item));
            }
        }
    }
    return obj;
};



</script>
     
</body>
   
</html>

